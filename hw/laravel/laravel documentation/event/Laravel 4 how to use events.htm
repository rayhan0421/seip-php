<!DOCTYPE html>
<html class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="copyright" content="Amitav Roy">
  <link rel="shortcut icon" href="http://www.amitavroy.com/assets/ico/favicon.ico" type="image/vnd.microsoft.icon">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@amitavroy7">
  <meta name="twitter:creator" content="@amitavroy7">
  <meta name="twitter:domain" content="http://amitavroy.com">
    
  <meta name="keywords" content="php, laravel 4, laravel events, laravel tutorials">
  <meta name="description" content="One of the most powerful aspect of Drupal is the concept of hooks. We can modify core features of Drupal entities without hacking the core. It's a great way to separate the concerns of code which in long term helps us write maintainable code. Laravel 4 events is one such thing which I can compare with hooks. In this tutorial, I will show you how to use a Laravel event like user login and perform some activity using a completely difference class.">
  <meta name="twitter:title" content="Laravel 4 how to use events…">
  <meta name="twitter:description" content="One of the most powerful aspect of Drupal is the concept of hooks. We can modify core features of Drupal entities without hacking the core. It's a great way to separate the concerns of code which in…">
  <meta name="twitter:image:src" content="http://cms.amitavroy.com/sites/default/files/styles/article_banner/public/preview_images/laravel-logo-big-570x398.png">
  <meta property="og:title" content="Laravel 4 how to use events…">
  <meta property="og:type" content="article">
  <meta property="og:url" content="http://amitavroy.com/justread/content/articles/laravel-4-how-use-events">
  <meta property="og:image" content="http://cms.amitavroy.com/sites/default/files/styles/article_banner/public/preview_images/laravel-logo-big-570x398.png">
  <meta property="og:site_name" content="Amitav Roy">
  <meta property="og:description" content="One of the most powerful aspect of Drupal is the concept of hooks. We can modify core features of Drupal entities without hacking the core. It's a great way to separate the concerns of code which in long term helps us write maintainable code. Laravel 4 events is one such thing which I can compare with hooks. In this tutorial, I will show you how to use a Laravel event like user login and perform some activity using a completely difference class.">
  <title>Laravel 4 how to use events</title>

  <!-- Bootstrap -->
  <link media="all" type="text/css" rel="stylesheet" href="Laravel%204%20how%20to%20use%20events_files/bootstrap.css">
  
  <link media="all" type="text/css" rel="stylesheet" href="Laravel%204%20how%20to%20use%20events_files/style.css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  <script src="Laravel%204%20how%20to%20use%20events_files/async-ads.js" async=""></script><script src="Laravel%204%20how%20to%20use%20events_files/ga.js"></script><script src="Laravel%204%20how%20to%20use%20events_files/widgets.js" id="twitter-wjs"></script><script src="Laravel%204%20how%20to%20use%20events_files/cse.js" async="" type="text/javascript"></script><script type="text/javascript">var base_url="http://amitavroy.com/";</script>
<script src="Laravel%204%20how%20to%20use%20events_files/embed.js" async="" type="text/javascript"></script><script type="text/javascript" src="Laravel%204%20how%20to%20use%20events_files/jsapi"></script><script src="Laravel%204%20how%20to%20use%20events_files/a" type="text/javascript"></script><script src="Laravel%204%20how%20to%20use%20events_files/a_002.htm" type="text/javascript"></script><link rel="stylesheet" href="Laravel%204%20how%20to%20use%20events_files/defaulten.css" type="text/css"><link rel="stylesheet" href="Laravel%204%20how%20to%20use%20events_files/default.css" type="text/css"><script src="Laravel%204%20how%20to%20use%20events_files/defaulten.js" type="text/javascript"></script><style type="text/css">
</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-moz-user-select:none;white-space:nowrap}.gsst_e{opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gscsep_a{display:none}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gsfe_a{border:1px solid #b9b9b9;border-top-color:#a0a0a0;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);}.gsfe_b{border:1px solid #4d90fe;outline:none;box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);}.gssb_a{padding:0 9px}.gsib_a{padding-right:8px;padding-left:8px}.gsst_a{padding-top:3px}.gssb_e{border:0}.gssb_l{margin:5px 0}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style><script charset="UTF-8" async="" src="Laravel%204%20how%20to%20use%20events_files/alfie.js"></script></head>
<body data-twttr-rendered="true"><noscript><meta HTTP-EQUIV="refresh" content="0;url='http://amitavroy.com/justread/content/articles/laravel-4-how-use-events?ModPagespeed=noscript'" /><style><!--table,div,span,font,p{display:none} --></style><div style="display:block">Please click <a href="http://amitavroy.com/justread/content/articles/laravel-4-how-use-events?ModPagespeed=noscript">here</a> if you are not redirected within a few seconds.</div></noscript>
<div class="container">
  <div class="header-wrapper">
  <div class="row">
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6"><h1 class="logo">
        <a href="http://amitavroy.com/">Amitav Roy</a>
      </h1></div>
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 col-lg-6" id="social-icons">
      <ul class="pull-right">
        <li class="gplus">
          <a href="https://plus.google.com/112200163050965079307/posts" target="_blank"></a>
        </li>
        <li class="git">
          <a href="https://github.com/amitavroy" target="_blank"></a>
        </li>
        <li class="twitter">
          <a href="https://twitter.com/amitavroy7" target="_blank"></a>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="menu-container row">
  <div class="menu col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <ul>
      <li class="normal"><a href="http://amitavroy.com/">Home</a></li>
<li class="active"><a href="http://amitavroy.com/justread/content/webarticles">Web</a></li>
<li class="normal"><a href="http://amitavroy.com/justread/content/travelarticles">Travel</a></li>
    </ul>
  </div>
</div>
  <div class="row">
    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8" id="content-col">
      <link media="all" type="text/css" rel="stylesheet" href="Laravel%204%20how%20to%20use%20events_files/shCore.css">

<script type="text/javascript" src="Laravel%204%20how%20to%20use%20events_files/shCore.js"></script>
<script type="text/javascript" src="Laravel%204%20how%20to%20use%20events_files/shBrushPhp.js"></script>
<div class="node node-wrapper node-full" id="71">

  <h1 class="node-title" itemprop="name">Laravel 4 how to use events</h1>

  <div class="meta-data clearfix">
      <span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <span class="username" itemprop="name">By <a href="https://plus.google.com/112200163050965079307" target="_blank" rel="publisher">Amitav Roy</a></span> on
        <span class="date">11th Oct 2014</span>
      </span>
  </div>

  <div class="body-content"><h3>One of the most powerful aspect of 
Drupal is the concept of hooks. We can modify core features of Drupal 
entities without hacking the core. It's a great way to separate the 
concerns of code which in long term helps us write maintainable code. 
Laravel 4 events is one such thing which I can compare with hooks. In 
this tutorial, I will show you how to use a Laravel event like user 
login and perform some activity using a completely difference class.</h3>

<h2>Why we need events?</h2>

<p>Before actually going into how to write events, it is important to 
know what is event and how it is useful. (But yes, if you already know 
that then you can actually skip this gyan and dive directly into the 
implementation part).</p>

<p>So we are building an application where initially a user was able to 
login. I used Laravel's authentication class and build a simple login 
and everything is working fine. We use the default Auth::attempt 
function and check with the email and password to authenticate the user.</p>

<div><div id="highlighter_352468" class="syntaxhighlighter  php"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php comments">/**</code></div><div class="line number2 index1 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">* Controller to handle the login page</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* @return Response</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">*/</code></div><div class="line number5 index4 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">showLoginPage()</code></div><div class="line number6 index5 alt1"><code class="php plain">{</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;layout-&gt;content = View::make(</code><code class="php string">'user.user_login'</code><code class="php plain">);</code></div><div class="line number8 index7 alt1"><code class="php plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php comments">/**</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* Handling the post data from login form </code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">* and checking authentication.</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* @return Response redirect</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">*/</code></div><div class="line number15 index14 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">handleUserLogin()</code></div><div class="line number16 index15 alt1"><code class="php plain">{</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// fetch the post data</code></div><div class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$postData</code> <code class="php plain">= Input::all();</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// credentails array</code></div><div class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$credentials</code> <code class="php plain">= </code><code class="php keyword">array</code><code class="php plain">(</code><code class="php string">'email'</code> <code class="php plain">=&gt; </code><code class="php variable">$postData</code><code class="php plain">[</code><code class="php string">'username'</code><code class="php plain">], </code><code class="php string">'password'</code> <code class="php plain">=&gt; </code><code class="php variable">$postData</code><code class="php plain">[</code><code class="php string">'password'</code><code class="php plain">]);</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// checking the authentication</code></div><div class="line number24 index23 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(Auth::attempt(</code><code class="php variable">$credentials</code><code class="php plain">))</code></div><div class="line number25 index24 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number26 index25 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// Redirect to dashboard</code></div><div class="line number27 index26 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">Redirect::intended(</code><code class="php string">'dashboard'</code><code class="php plain">);</code></div><div class="line number28 index27 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number29 index28 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">else</code></div><div class="line number30 index29 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number31 index30 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">Redirect::back();</code></div><div class="line number32 index31 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number33 index32 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>Now, suddenly we need to log the last time the user logged in. Ok,  
so why not create a new column in the user's table and update that 
column when the user has successfully authenticated. So, we create the 
column and then put an update query after the authentication.</p>

<div><div id="highlighter_140715" class="syntaxhighlighter  php"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php comments">/**</code></div><div class="line number2 index1 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">* Controller to handle the login page</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* @return Response</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">*/</code></div><div class="line number5 index4 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">showLoginPage()</code></div><div class="line number6 index5 alt1"><code class="php plain">{</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;layout-&gt;content = View::make(</code><code class="php string">'user.user_login'</code><code class="php plain">);</code></div><div class="line number8 index7 alt1"><code class="php plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php comments">/**</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* Handling the post data from login form </code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">* and checking authentication.</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* @return Response redirect</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">*/</code></div><div class="line number15 index14 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">handleUserLogin()</code></div><div class="line number16 index15 alt1"><code class="php plain">{</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// fetch the post data</code></div><div class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$postData</code> <code class="php plain">= Input::all();</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// credentails array</code></div><div class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$credentials</code> <code class="php plain">= </code><code class="php keyword">array</code><code class="php plain">(</code><code class="php string">'email'</code> <code class="php plain">=&gt; </code><code class="php variable">$postData</code><code class="php plain">[</code><code class="php string">'username'</code><code class="php plain">], </code><code class="php string">'password'</code> <code class="php plain">=&gt; </code><code class="php variable">$postData</code><code class="php plain">[</code><code class="php string">'password'</code><code class="php plain">]);</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// checking the authentication</code></div><div class="line number24 index23 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(Auth::attempt(</code><code class="php variable">$credentials</code><code class="php plain">))</code></div><div class="line number25 index24 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number26 index25 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">DB::table(</code><code class="php string">'users'</code><code class="php plain">)-&gt;where(</code><code class="php string">'id'</code><code class="php plain">, </code><code class="php variable">$userId</code><code class="php plain">)-&gt;update(</code><code class="php keyword">array</code><code class="php plain">(</code></div><div class="line number27 index26 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'last_login'</code> <code class="php plain">=&gt; </code><code class="php functions">date</code><code class="php plain">(</code><code class="php string">'Y-m-d h:m:s'</code><code class="php plain">, time())</code></div><div class="line number28 index27 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">));</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// Redirect to dashboard</code></div><div class="line number31 index30 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">Redirect::intended(</code><code class="php string">'dashboard'</code><code class="php plain">);</code></div><div class="line number32 index31 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number33 index32 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">else</code></div><div class="line number34 index33 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number35 index34 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">Redirect::back();</code></div><div class="line number36 index35 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number37 index36 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>But then as part of a new requirement, we need to do two more things 
say update his oauth user data and also log an entry that a user has 
logged in at this time using this IP address. So if you see, our small 
little user module is getting more and more complicated. And if we think
 of some other entity which is a bit more complex... something like a 
product from any shopping cart, our code will pile up soon and it can 
get really messy. This is where the events come to the rescue.</p>

<h2>Events and how to set them up</h2>

<p>Through events and event listeners, we can separate the concerns of 
code and make the user entity simple. Here, in this example, I have 
first made a simple user login and then I started updating the last 
login column when ever the user is login in. But I have created a 
separate function which does only the update and I am calling that by 
listening to the login event and reacting to it.</p>

<div><div id="highlighter_761360" class="syntaxhighlighter  php"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php comments">/**</code></div><div class="line number2 index1 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">* Controller to handle the login page</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* @return Response</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">*/</code></div><div class="line number5 index4 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">showLoginPage()</code></div><div class="line number6 index5 alt1"><code class="php plain">{</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;layout-&gt;content = View::make(</code><code class="php string">'user.user_login'</code><code class="php plain">);</code></div><div class="line number8 index7 alt1"><code class="php plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php comments">/**</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* Handling the post data from login form </code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">* and checking authentication.</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;</code><code class="php comments">* @return Response redirect</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">*/</code></div><div class="line number15 index14 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">handleUserLogin()</code></div><div class="line number16 index15 alt1"><code class="php plain">{</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// fetch the post data</code></div><div class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$postData</code> <code class="php plain">= Input::all();</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// credentails array</code></div><div class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$credentials</code> <code class="php plain">= </code><code class="php keyword">array</code><code class="php plain">(</code><code class="php string">'email'</code> <code class="php plain">=&gt; </code><code class="php variable">$postData</code><code class="php plain">[</code><code class="php string">'username'</code><code class="php plain">], </code><code class="php string">'password'</code> <code class="php plain">=&gt; </code><code class="php variable">$postData</code><code class="php plain">[</code><code class="php string">'password'</code><code class="php plain">]);</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// checking the authentication</code></div><div class="line number24 index23 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(Auth::attempt(</code><code class="php variable">$credentials</code><code class="php plain">))</code></div><div class="line number25 index24 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number26 index25 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// Firing the login event</code></div><div class="line number27 index26 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$subscriber</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">UserEventHandler;</code></div><div class="line number28 index27 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">Event::subscribe(</code><code class="php variable">$subscriber</code><code class="php plain">);</code></div><div class="line number29 index28 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$event</code> <code class="php plain">= Event::fire(</code><code class="php string">'user.login'</code><code class="php plain">, </code><code class="php keyword">array</code><code class="php plain">(Auth::user()));</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// Redirect to dashboard</code></div><div class="line number32 index31 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">Redirect::intended(</code><code class="php string">'dashboard'</code><code class="php plain">);</code></div><div class="line number33 index32 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number34 index33 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">else</code></div><div class="line number35 index34 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number36 index35 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">Redirect::back();</code></div><div class="line number37 index36 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number38 index37 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>You can find the file <a href="https://github.com/amitavroy/learningl4/blob/11_Events/app/controllers/HomeController.php" data-category="Code view on Git 11_Laravel_Events" data-action="Click" target="_blank">on Github</a></p>

<div><div id="highlighter_757919" class="syntaxhighlighter  php"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">updateLastLoggedIn(</code><code class="php variable">$userId</code><code class="php plain">)</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">// set the default time zone, hard coded for now.</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">date_default_timezone_set(</code><code class="php string">'Asia/Kolkata'</code><code class="php plain">);</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">DB::table(</code><code class="php string">'users'</code><code class="php plain">)-&gt;where(</code><code class="php string">'id'</code><code class="php plain">, </code><code class="php variable">$userId</code><code class="php plain">)-&gt;update(</code><code class="php keyword">array</code><code class="php plain">(</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php string">'last_login'</code> <code class="php plain">=&gt; </code><code class="php functions">date</code><code class="php plain">(</code><code class="php string">'Y-m-d h:m:s'</code><code class="php plain">, time())</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">));</code></div><div class="line number9 index8 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>You can find the file <a href="https://github.com/amitavroy/learningl4/blob/11_Events/app/models/Model.php" data-category="Code view on Git 11_Laravel_Events" data-action="Click" target="_blank">on Github</a></p>

<p>And then I create a class inside a custom folder classed “events” 
where I am listening to the event login which is fired inside the user 
controller after the user logs in successfully.</p>

<p>Here is the code for the event listener class. The subscribe function
 is where I am registering events to their respective function inside 
the class. For example, user.login event will always trigger the 
onUserLogin function. And inside that I have the complete $user which is
 passed by the controller.</p>

<div><div id="highlighter_974862" class="syntaxhighlighter  php"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">class</code> <code class="php plain">UserEventHandler {</code></div><div class="line number2 index1 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">/**</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">* Handling the user login event</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">*/</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">onUserLogin(</code><code class="php variable">$user</code><code class="php plain">)</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$thisUser</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">User;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">/**</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">* Updating an entry to the user table when the user last logged in.</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">*/</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$thisUser</code><code class="php plain">-&gt;updateLastLoggedIn(</code><code class="php variable">$user</code><code class="php plain">-&gt;id);</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">/**</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">* Subbscribing to the events and registerign the function </code></div><div class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">* from this class.</code></div><div class="line number19 index18 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php comments">*/</code></div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">subscribe(</code><code class="php variable">$events</code><code class="php plain">)</code></div><div class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number22 index21 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$events</code><code class="php plain">-&gt;listen(</code><code class="php string">'user.login'</code><code class="php plain">, </code><code class="php string">'UserEventHandler@onUserLogin'</code><code class="php plain">);</code></div><div class="line number23 index22 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number24 index23 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>This is how I have added a new functionality to the user module 
without changing the main logic. Now I can as many functionality to this
 by adding more functionality inside this event listener. Also if 
required, at any point of time, I can enable or disable any piece of the
 call because most of the time this will only contain call to other 
functions.</p>

<p>Get full code <a href="https://github.com/amitavroy/learningl4/tree/11_Events" data-category="Code view on Git 11_Laravel_Events" data-action="Click" target="_blank">on Github</a></p>

<script type="text/javascript">SyntaxHighlighter.all()</script></div>

  <div class="comment comment-container">
    <div id="disqus_thread"><iframe verticalscrolling="no" horizontalscrolling="no" src="Laravel%204%20how%20to%20use%20events_files/a.htm" style="width: 100% ! important; border: medium none ! important; overflow: hidden ! important; height: 512px ! important;" title="Disqus" tabindex="0" scrolling="no" allowtransparency="true" data-disqus-uid="2" id="dsq-2" frameborder="0" width="100%"></iframe></div>
    <script type="text/javascript">var disqus_shortname='amitavroyphotography';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>
</div>
      <div id="ajax" style="display: none;"><img src="Laravel%204%20how%20to%20use%20events_files/322.GIF" alt="Ajax content" pagespeed_url_hash="3497498571" height="18" width="36"></div>
    </div>
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4" id="sidebar">
      <div id="sidebar-container">
                  <div id="myinfo-container">
  <span class="img pull-left">
    <img src="Laravel%204%20how%20to%20use%20events_files/me.jpg" alt="" pagespeed_url_hash="4184078417">
  </span>

  <div class="info-container">
    <span class="name">Amitav Roy</span>
    <br>
    <span class="des">Web Developer</span>
    <br>
    <span class="location">Navi Mumbai, INDIA</span>
    <br>
    <span class="reach">reachme[@]amitavroy[.]com</span>
    <br>
    Follow me <a href="https://www.facebook.com/amitavr" target="_blank" title="Facebook">On FB</a>
    &amp;
    <a href="https://twitter.com/amitavroy7" target="_blank">On Twitter</a>
  </div>

</div>

<div id="subscriber-block-container">
  <div class="sidebar-block clearfix row" id="subscribe">
  <div class="form-group col-md-8">
    <label for="exampleInputEmail1">Subscribe to my updates</label>
    <input class="form-control" id="exampleInputEmail1" placeholder="Enter email" type="email">
    <span class="success custom-message"></span>
    <span class="error custom-message"></span>
  </div>
  <div class="col-md-3">
    <label for="">&nbsp;&nbsp;</label>
    <button class="bttn blue clearfix" id="subscribe-me">Subscribe</button>
  </div>
</div></div>

<div id="search-block-container">
  <div class="sidebar-block clearfix" id="latest-on-web">
  <h3>Search this site</h3>
  <div id="___gcse_0"><div class="gsc-control-cse gsc-control-cse-en"><div dir="ltr" class="gsc-control-wrapper-cse"><form accept-charset="utf-8" class="gsc-search-box gsc-search-box-tools"><table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-input"><div id="gsc-iw-id1" class="gsc-input-box"><table class="gstl_50 " id="gs_id50" style="width: 100%; padding: 0px;" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsib_a" id="gs_tti50"><input spellcheck="false" dir="ltr" id="gsc-i-id1" style="width: 100%; padding: 0px; border: medium none; margin: 0px; height: auto; outline: medium none; background: url(&quot;http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif&quot;) no-repeat scroll left center rgb(255, 255, 255);" title="search" name="search" class="gsc-input" size="10" autocomplete="off" type="text"></td><td class="gsib_b"><div dir="ltr" id="gs_st50" class="gsst_b"><a style="display: none;" href="javascript:void(0)" class="gsst_a"><span id="gs_cb50" class="gscb_a">×</span></a></div></td></tr></tbody></table></div><input id="bgresponse" name="bgresponse" type="hidden"></td><td class="gsc-search-button"><input title="search" class="gsc-search-button gsc-search-button-v2" src="Laravel%204%20how%20to%20use%20events_files/search_box_icon.png" type="image"></td><td class="gsc-clear-button"><div title="clear results" class="gsc-clear-button">&nbsp;</div></td></tr></tbody></table><table class="gsc-branding" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-branding-user-defined"></td><td class="gsc-branding-text"><div class="gsc-branding-text">powered by</div></td><td class="gsc-branding-img"><img class="gsc-branding-img" src="Laravel%204%20how%20to%20use%20events_files/small-logo.png"></td></tr></tbody></table></form><div class="gsc-results-wrapper-overlay"><div tabindex="0" class="gsc-results-close-btn"></div><div class="gsc-tabsAreaInvisible"><div class="gsc-tabHeader gsc-inline-block gsc-tabhActive">Custom Search</div><span class="gs-spacer"> </span></div><div class="gsc-tabsAreaInvisible"></div><div class="gsc-above-wrapper-area-invisible"><table class="gsc-above-wrapper-area-container" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-result-info-container"><div class="gsc-result-info-invisible"></div></td><td class="gsc-orderby-container"><div class="gsc-orderby-invisible"><div class="gsc-orderby-label gsc-inline-block">Sort by:</div><div class="gsc-option-menu-container gsc-inline-block"><div class="gsc-selected-option-container gsc-inline-block"><div class="gsc-selected-option">Relevance</div><div class="gsc-option-selector"></div></div><div class="gsc-option-menu-invisible"><div class="gsc-option-menu-item gsc-option-menu-item-highlighted"><div class="gsc-option">Relevance</div></div><div class="gsc-option-menu-item"><div class="gsc-option">Date</div></div></div></div></div></td></tr></tbody></table></div><div class="gsc-adBlockInvisible"></div><div class="gsc-wrapper"><div class="gsc-adBlockInvisible"></div><div class="gsc-resultsbox-invisible"><div class="gsc-resultsRoot gsc-tabData gsc-tabdActive"><table class="gsc-resultsHeader" cellpadding="0" cellspacing="0"><tbody><tr><td class="gsc-twiddleRegionCell"><div class="gsc-twiddle"><div class="gsc-title">Web</div></div><div class="gsc-stats"></div><div class="gsc-results-selector gsc-all-results-active"><div title="show one result" class="gsc-result-selector gsc-one-result">&nbsp;</div><div title="show more results" class="gsc-result-selector gsc-more-results">&nbsp;</div><div title="show all results" class="gsc-result-selector gsc-all-results">&nbsp;</div></div></td><td class="gsc-configLabelCell"></td></tr></tbody></table><div><div class="gsc-expansionArea"></div></div></div></div></div></div><div tabindex="0" class="gsc-modal-background-image"></div></div></div></div>
  <script>(function(){var cx='016801471994281400055:mxfcjjj2ndy';var gcse=document.createElement('script');gcse.type='text/javascript';gcse.async=true;gcse.src=(document.location.protocol=='https:'?'https:':'http:')+'//www.google.com/cse/cse.js?cx='+cx;var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse,s);})();</script>
  <style type="text/css">.cse .gsc-control-cse,.gsc-control-cse{padding:0}</style>
</div></div>

<div id="latest-on-web-container">
  <div class="sidebar-block clearfix" id="latest-on-web">
  <h3>Latest on the web</h3>
  <ul>
        <li><a href="http://amitavroy.com/justread/content/articles/setting-services-drupal-and-then-view-authenticated-content-using-drupal%E2%80%99s">Setting up services in Drupal and then view authenticated content using Drupal’s authentication</a></li>
        <li><a href="http://amitavroy.com/justread/content/articles/grunt-js-%E2%80%93-awesome-work-flow-automatic-js-css-minify-and-less-compile">Grunt JS – The awesome work flow with automatic JS, CSS minify and LESS compile</a></li>
        <li><a href="http://amitavroy.com/justread/content/articles/laravel-4-how-use-events">Laravel 4 how to use events</a></li>
        <li><a href="http://amitavroy.com/justread/content/articles/working-laravel-db-seed-and-why-not-migrations-data-insert">Working with Laravel DB seed and why not Migrations for data insert</a></li>
        <li><a href="http://amitavroy.com/justread/content/articles/creating-csv-output-database-query-result-laravel-4">Creating CSV output from database query result in Laravel 4</a></li>
      </ul>
</div></div>

<div id="latest-on-travel-container">
  <div class="sidebar-block clearfix" id="latest-on-web">
  <h3>Latest Trip blogs</h3>
  <ul>
        <li><a href="http://amitavroy.com/justread/content/articles/quick-trip-sinhagad">A quick trip to Sinhagad</a></li>
        <li><a href="http://amitavroy.com/justread/content/articles/trip-hampi-karnataka-lost-empire">Trip to Hampi, Karnataka - The lost empire</a></li>
        <li><a href="http://amitavroy.com/justread/content/articles/trip-ganpatipule">The trip to Ganpatipule</a></li>
        <li><a href="http://amitavroy.com/justread/content/articles/road-trip-durshet">Road trip to Durshet</a></li>
      </ul>
</div></div>

<div id="twitter-block-container">
  <div class="sidebar-block clearfix" id="latest-on-web">
  <h3>Twitter feeds</h3>
  <iframe title="Twitter Timeline" style="border: medium none; max-width: 100%; min-width: 180px; margin: 0px; padding: 0px; display: inline-block; position: static; visibility: visible; width: 360px;" allowfullscreen="" class="twitter-timeline twitter-timeline-rendered" allowtransparency="true" scrolling="no" id="twitter-widget-0" frameborder="0" height="600"></iframe>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div></div>              </div>
    </div>
  </div>
</div>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script type="text/javascript" src="Laravel%204%20how%20to%20use%20events_files/global.js"></script>
<script type="text/javascript" src="Laravel%204%20how%20to%20use%20events_files/scripts.js"></script>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID.-->
<script>var _gaq=[['_setAccount','UA-17628824-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'));</script>

<script>//<![CDATA[
(function(){var d=encodeURIComponent,f=window,g=document,h="documentElement",k="length",l="prototype",m="body",p="&",s="&ci=",t=",",u="?",v="Content-Type",w="Microsoft.XMLHTTP",x="Msxml2.XMLHTTP",y="POST",z="application/x-www-form-urlencoded",A="img",B="input",C="load",D="oh=",E="on",F="pagespeed_url_hash",G="url=";f.pagespeed=f.pagespeed||{};var H=f.pagespeed,I=function(a,b,c){this.c=a;this.e=b;this.d=c;this.b=this.f();this.a={}};I[l].f=function(){return{height:f.innerHeight||g[h].clientHeight||g[m].clientHeight,width:f.innerWidth||g[h].clientWidth||g[m].clientWidth}};I[l].g=function(a){a=a.getBoundingClientRect();return{top:a.top+(void 0!==f.pageYOffset?f.pageYOffset:(g[h]||g[m].parentNode||g[m]).scrollTop),left:a.left+(void 0!==f.pageXOffset?f.pageXOffset:(g[h]||g[m].parentNode||g[m]).scrollLeft)}};I[l].h=function(a){if(0>=a.offsetWidth&&0>=a.offsetHeight)return!1;a=this.g(a);var b=a.top.toString()+t+a.left.toString();if(this.a.hasOwnProperty(b))return!1;this.a[b]=!0;return a.top<=this.b.height&&a.left<=this.b.width};I[l].i=function(a){var b;if(f.XMLHttpRequest)b=new XMLHttpRequest;else if(f.ActiveXObject)try{b=new ActiveXObject(x)}catch(c){try{b=new ActiveXObject(w)}catch(e){}}if(!b)return!1;b.open(y,this.c+(-1==this.c.indexOf(u)?u:p)+G+d(this.e));b.setRequestHeader(v,z);b.send(a);return!0};I[l].k=function(){for(var a=[A,B],b=[],c={},e=0;e<a[k];++e)for(var q=g.getElementsByTagName(a[e]),n=0;n<q[k];++n){var r=q[n].getAttribute(F);r&&(q[n].getBoundingClientRect&&this.h(q[n]))&&!(r in c)&&(b.push(r),c[r]=!0)}if(0!=b[k]){a=D+this.d;a+=s+d(b[0]);for(e=1;e<b[k];++e){c=t+d(b[e]);if(131072<a[k]+c[k])break;a+=c}H.criticalImagesBeaconData=a;this.i(a)}};H.j=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(E+b,c);else{var e=a[E+b];a[E+b]=function(){c.call(this);e&&e.call(this)}}};H.l=function(a,b,c){var e=new I(a,b,c);H.j(f,C,function(){f.setTimeout(function(){e.k()},0)})};H.criticalImagesBeaconInit=H.l;})();pagespeed.criticalImagesBeaconInit('/mod_pagespeed_beacon','http://amitavroy.com/justread/content/articles/laravel-4-how-use-events','O-_tWHm2s1');
//]]></script>
<iframe style="display: none;" allowtransparency="true" scrolling="no" id="rufous-sandbox" frameborder="0"></iframe><table class="gstl_50 gssb_c" style="width: 197px; display: none; top: 377px; left: 922px; position: absolute;" cellpadding="0" cellspacing="0"><tbody><tr><td class="gssb_f"></td><td style="width: 100%;" class="gssb_e"></td></tr></tbody></table></body></html>