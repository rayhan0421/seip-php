/*! Snappy */
function contentLoaded(a,b){var c=!1,d=!0,e=a.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":"detachEvent",i=e.addEventListener?"":"on",j=function(d){("readystatechange"!=d.type||"complete"==e.readyState)&&(("load"==d.type?a:e)[h](i+d.type,j,!1),!c&&(c=!0)&&b.call(a,d.type||d))},k=function(){try{f.doScroll("left")}catch(a){return void setTimeout(k,50)}j("poll")};if("complete"==e.readyState)b.call(a,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=!a.frameElement}catch(l){}d&&k()}e[g](i+"DOMContentLoaded",j,!1),e[g](i+"readystatechange",j,!1),a[g](i+"load",j,!1)}}"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var SnappyEmbed,SnappyWidget,__bind=function(a,b){return function(){return a.apply(b,arguments)}};SnappyEmbed=function(){function a(){this.receiveMessage=__bind(this.receiveMessage,this);var a;a={domain:"",position:"bottom right",debug:!1,title:"Help & Support",name:"",email:"",contact:!0,background:"",referrer:location.href},this.options=this.extend(a,this.getOptions())}return a.prototype.opened=!1,a.prototype.iframeId="snappy-iframe",a.prototype.getOptions=function(){var a,b,c,d,e,f;for(b={},d=document.getElementsByTagName("script"),e=0,f=d.length;f>e;e++)c=d[e],-1!==c.src.indexOf("/js/embed.widget")&&(a=c);return Array.prototype.slice.call(a.attributes).forEach(function(a){var c,d;return c=a.name.replace("data-",""),d=a.value,"1"===a.value?d=!0:"0"===a.value&&(d=!1),b[c]=d}),b},a.prototype.extend=function(a){var b,c,d,e,f;for(e=0,f=arguments.length;f>e;e++){c=arguments[e];for(b in c)d=c[b],a[b]=d}return a},a.prototype.setScreenSize=function(){var a,b,c,d,e;return e=window,a=document,b=a.documentElement,c=a.getElementsByTagName("body")[0],this.screenWidth=e.innerWidth||b.clientWidth||c.clientWidth,d=e.innerHeight||b.clientHeight||c.clientHeight,this.screenHeight=d-50},a.prototype.init=function(){return this.generateStyle("//"+this.options.domain+"/css/widget.embed.min.css"),document.body.appendChild(this.createContainer()),this.containerEl=document.getElementById("snappy-faq"),this.iframeEl=document.getElementById(this.iframeId),window.addEventListener("message",this.receiveMessage,!1),this.injectIframeSrc()},a.prototype.handleClick=function(a){return"snappy-faq"!==a.target.getAttribute("id")&&"snappy-faq"!==a.target.parentNode.getAttribute("id")?this.close():void 0},a.prototype.receiveMessage=function(a){var b;try{switch(a=JSON.parse(a.data),a.name){case"open":return this.open();case"close":return this.close();case"widget-ready":return this.onReady();case"redirect":return this.redirect(a)}}catch(c){return b=c,this.error=b}},a.prototype.onReady=function(){return"undefined"!=typeof snappyReady&&snappyReady(),this.postMessage({action:"init",options:this.options})},a.prototype.toggle=function(a){return null==a&&(a={}),this.opened?this.close():this.open(a)},a.prototype.open=function(a){return null==a&&(a={}),a.action="open",a.options=this.extend(this.options,a),this.postMessage(a),a.id&&this.isMobile()?this:(this.setScreenSize(),this.containerEl.className="opened "+this.options.position,this.isMobile()?(this.changeIframeSize("320px",350),this.setContainerWidth(320)):this.changeIframeSize("100%",400),this.opened=!0)},a.prototype.close=function(){return this.containerEl.className="closed "+this.options.position,this.changeIframeSize("0",0),this.opened=!1,this.postMessage({action:"close"})},a.prototype.redirect=function(a){return window.location.href=a.url},a.prototype.postMessage=function(a){return this.iframeEl.contentWindow.postMessage(JSON.stringify(a),"*")},a.prototype.setContainerWidth=function(a){return this.screenWidth<420?this.containerEl.style.width=""+a+"px":void 0},a.prototype.createContainer=function(){var a;return a=document.createElement("div"),a.id="snappy-faq",a.className="closed "+this.options.position,a.style.background=""+this.options.background,a.innerHTML=this.createButton(a),a},a.prototype.createButton=function(a){var b;return b="SnappyWidget.toggle(); return false;","<a class='snappy-button' onclick='"+b+"'>"+this.options.title+"</a>"+("<a class='snappy-close' onClick='"+b+"' aria-hidden='true'>&times;</a>")+(""+this.createIframe(a))},a.prototype.createIframe=function(){return"<iframe src='' id='"+this.iframeId+"' name='"+this.iframeId+"' allowTransparency='true' frameborder='0' style='height: 0px; width: 0px;' > </iframe>"},a.prototype.injectIframeSrc=function(){var a,b;return b="//"+this.options.domain+"/widget/v1/faq",a=this.iframeId,setTimeout(function(){var c;return c=document.getElementById(a),-1===navigator.userAgent.indexOf("MSIE")?c.src=b:c.location=b},5)},a.prototype.changeIframeSize=function(a,b){return this.iframeEl.style.height=this.screenHeight<b?""+this.screenHeight+"px":""+b+"px",this.iframeEl.style.width=a},a.prototype.generateStyle=function(a){var b,c;return c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",c.async=!0,c.href=a,b=document.getElementsByTagName("head")[0]||document,b.appendChild(c),c},a.prototype.isMobile=function(){return screen.width<=480},a}(),SnappyWidget=new SnappyEmbed,SnappyWidget.init();